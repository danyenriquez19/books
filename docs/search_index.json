[["index.html", "ARIMA Capítulo 1 Importancia del Análisis del Consumo de Agua", " ARIMA Dany Enriquez 2025-05-19 Capítulo 1 Importancia del Análisis del Consumo de Agua El uso responsable del agua representa uno de los principales desafíos de la sociedad contemporánea, debido a factores como el cambio climático, la contaminación y la sobreexplotación de los recursos hídricos. Estas problemáticas comprometen seriamente la sostenibilidad de la vida urbana y el equilibrio de los ecosistemas. Frente a este escenario, diversas ciudades han comenzado a implementar soluciones tecnológicas, como los medidores inteligentes, que permiten monitorear y controlar el consumo de agua por parte de la población. Estos dispositivos generan datos detallados a lo largo del tiempo, lo que facilita la detección de patrones de uso, así como la identificación de comportamientos anómalos o indicios de fraude. Esta información resulta fundamental para diseñar estrategias que promuevan un uso más eficiente y responsable del recurso hídrico. Existen numerosos estudios que abordan esta problemática desde diferentes enfoques. En el presente trabajo se tomará como referencia un conjunto de datos recopilado en el marco del proyecto europeo DAIAD, financiado por el Séptimo Programa Marco de la Unión Europea (Spyropoulos, Soldatos, et al. 2014). Este conjunto contiene series temporales de consumo de agua registradas por medidores inteligentes (Smart Water Meters, SWM) instalados en 1007 hogares de la ciudad de Alicante, gestionados por la empresa AMAEM. El objetivo de este estudio es generar pronósticos de consumo a partir de dicha información, con el fin de comprender los patrones de comportamiento en el uso del agua y, en consecuencia, poner estos resultados a disposición de las entidades o actores interesados, para apoyar la toma de decisiones y fomentar un uso más eficiente y sostenible del recurso. Los datos utilizados en este análisis provienen del conjunto titulado Smart Water Meter Consumption Time Series(Hellenic Data Service 2023), el cual está disponible públicamente en el portal de la Hellenic Data Service y se encuentra licenciado bajo los términos de CC BY-SA 4.0. Este recurso proporciona una base sólida para el desarrollo de modelos de pronóstico y análisis de patrones de consumo de agua. Referencias Hellenic Data Service. 2023. “Smart Water Meter Consumption Time Series.” https://data.hellenicdataservice.gr/dataset/78776f38-a58b-4a2a-a8f9-85b964fe5c95. Spyropoulos, Theodoros, John Soldatos, et al. 2014. “DAIAD: Delivering Advanced Knowledge Through Smart Water Meters.” European Commission; https://cordis.europa.eu/project/id/619186. https://cordis.europa.eu/project/id/619186. "],["analisis-exploratorio-de-datos.html", "Capítulo 2 Analisis Exploratorio de Datos 2.1 Selección de Usuario 2.2 Rango de las Mediciones 2.3 Valores Faltantes 2.4 Formato de las variables 2.5 Estadisticas Descriptivas 2.6 Valores Negativos 2.7 Imputar Valores Negativos 2.8 Resumen Analisis Estadistico 2.9 Analisis Grafico 2.10 Serie de Tiempo 2.11 Resultados Analisis Grafico 2.12 Medias Moviles 2.13 Rezagos 2.14 Estacionalidad 2.15 Autocorrelaciones", " Capítulo 2 Analisis Exploratorio de Datos 2.1 Selección de Usuario Ya que en la base de datos existen múltiples series de tiempo asociadas a cada usuario en el registro. Para simplificar el análisis y los temas tratados en este trabajo, se seleccionará un usuario de manera aleatoria. Este usuario servirá como base para desarrollar los análisis y conclusiones que se presentarán en las siguientes secciones. El usuario selccionado al azar tiene user.key 4f7729cf-f0fc-4333-bea7-4ee4aeaaa246 Tabla 2.1: Diccionario de variables de la serie de consumo. Variable Descripción user.key Llave de usuario que permite identificar al usuario. datetime Fecha y hora en que el medidor realizó la lectura. meter.reading Lectura acumulada del consumo en metros cúbicos. diff Diferencia de consumo respecto a la medición anterior. 2.2 Rango de las Mediciones primeros 5 registros. ## user.key datetime meter.reading diff ## 1 4f7729cf-f0fc-4333-bea7-4ee4aeaaa246 19/05/2017 23:53:55 553681 7 ## 2 4f7729cf-f0fc-4333-bea7-4ee4aeaaa246 19/05/2017 22:53:55 553674 300 ## 3 4f7729cf-f0fc-4333-bea7-4ee4aeaaa246 19/05/2017 09:53:59 553374 56 ## 4 4f7729cf-f0fc-4333-bea7-4ee4aeaaa246 19/05/2017 08:53:59 553318 141 ## 5 4f7729cf-f0fc-4333-bea7-4ee4aeaaa246 19/05/2017 07:53:59 553177 18 últimos 5 registros ## user.key datetime meter.reading diff ## 16186 4f7729cf-f0fc-4333-bea7-4ee4aeaaa246 01/01/2015 05:15:06 26322 1 ## 16187 4f7729cf-f0fc-4333-bea7-4ee4aeaaa246 01/01/2015 04:15:06 26321 1 ## 16188 4f7729cf-f0fc-4333-bea7-4ee4aeaaa246 01/01/2015 03:15:06 26320 23 ## 16189 4f7729cf-f0fc-4333-bea7-4ee4aeaaa246 01/01/2015 02:15:06 26297 1 ## 16190 4f7729cf-f0fc-4333-bea7-4ee4aeaaa246 01/01/2015 01:15:06 26296 0 El análisis de los datos revela que los registros fueron tomados en intervalos de una hora. El período de recopilación abarca desde el año 2015 hasta 2017 y ya se han calculado la diferencia en los consumos. 2.3 Valores Faltantes ## la base de datos cuenta con 0 valores faltantes 2.4 Formato de las variables ## user.key datetime meter.reading diff ## &quot;character&quot; &quot;character&quot; &quot;numeric&quot; &quot;integer&quot; podemos observar que la variable “datetime” no esta en formato de fecha. 2.5 Estadisticas Descriptivas Para nuestro análisis descriptivo tendremos en cuenta la variable ‘diff’ ya que representa el consumo realizado en determinada hora por el medidor. Tabla 2.2: Estadisticas Descriptivas de la variable diff para el usuario seleccionado. Variable Descripción media 32.57474 mediana 12.00000 desv. estandar 60.87880 Minimo -322.00000 Maximo 2152.00000 Rango 2474.00000 Coef. Variacion 186.88960 Q1 2.00000 Q2 12.00000 Q3 32.00000 El análisis revela valores de consumo anormalmente elevados en determinadas horas, lo que evidencia la presencia de valores atípicos y una considerable variabilidad en la serie temporal, ademas de valores negativos los cuales se imputaran. 2.6 Valores Negativos ## Número de valores negativos en diff: 2 2.7 Imputar Valores Negativos ## Número de valores negativos después de imputar: 0 Se adicionara el consumo por año Tabla 2.3: Tabla 2.4: Promedio y Varianza del Consumo por Año anio promedio_consumo varianza_consumo 2015 36.18 4706.58 2016 28.66 2613.43 2017 33.22 3729.28 2.8 Resumen Analisis Estadistico Se observa que el consumo de agua presenta una notable variabilidad y numerosos valores atípicos. El rango de consumo oscila entre 0 y 2152 metros cúbicos por hora. Sin embargo, el valor promedio general se encuentra alrededor de los 33 metros cúbicos, lo cual sugiere que, aunque existen registros extremos de consumo, la mayoría de los valores se concentran en niveles mucho más bajos. Esta disparidad podría indicar posibles irregularidades en los datos o un comportamiento inconsistente en el consumo de agua. 2.9 Analisis Grafico En este apartado analizaremos los diferentes comportamientos de la variable “diff” en el tiempo, haciendo uso de gráfico. Boxplot Consumo Anual se observa una gran presencia de registros atipicos por cada uno de los años registrados. Tabla 2.5: Valores Atípicos por Año anio total outliers porcentaje 2015 7059 929 13.16 2016 6799 739 10.87 2017 2332 308 13.21 2.10 Serie de Tiempo Consumo General Consumo anual 2.11 Resultados Analisis Grafico Se observa la presencia de consumos elevados, lo cual se ve reflejado en la existencia de múltiples valores atípicos que sobresalen del comportamiento general de la serie. La serie presenta picos de consumo significativamente altos, evidenciando una variabilidad considerable y la presencia de numerosos valores atípicos que podrían estar asociados a eventos específicos o errores de medición. A través de los años se observa que los consumos por mes van disminuyendo. 2.12 Medias Moviles Dado que los registros de consumo de agua se han tomado en intervalos de una hora, se ha decidido utilizar un parámetro de k=24 para las medias móviles, lo que corresponde a un promedio de 24 horas, es decir, un promedio diario. Esta elección permite suavizar las fluctuaciones horarias y capturar las tendencias generales del consumo de agua a lo largo de cada día. De este modo, se obtiene una representación más clara y coherente del comportamiento del consumo en el tiempo, eliminando los efectos de variaciones momentáneas que podrían ser causadas por fluctuaciones o eventos aislados A partir del gráfico de medias móviles (calculadas como promedios diarios utilizando un intervalo de 24 horas), se observa que el comportamiento general de la serie de consumo se mantiene relativamente estable a lo largo del tiempo. Sin embargo, se identifican dos fechas con variaciones atípicas significativas: el 21 de abril de 2015 y el 30 de diciembre de 2016, en las cuales se registran picos inusuales en el consumo. 2.13 Rezagos Se observa una clara concentración de puntos en los valores bajos de consumo, lo que indica que la mayoría de las observaciones corresponden a registros con bajo consumo horario. Además, la relación entre el consumo actual y su rezago de una hora no presenta un patrón lineal evidente. Esta falta de linealidad sugiere que no es posible realizar predicciones precisas basadas únicamente en el valor rezagado. 2.14 Estacionalidad Dado que los registros de los medidores se realizaron de forma horaria desde el 1 de enero de 2015 hasta el 19 de mayo de 2017, es necesario definir adecuadamente el periodo sobre el cual se analizará la estacionalidad, con el fin de identificar posibles patrones recurrentes. No se optó por un análisis mensual, ya que el último mes de la serie no está completo. Además, dado el alto nivel de detalle de los datos (una observación por hora), trabajar a nivel diario u horario podría dificultar la visualización de patrones estacionales debido a la gran cantidad de observaciones. Por esta razón, se decidió realizar el análisis de estacionalidad a nivel semanal. El gráfico de estacionalidad muestra el comportamiento mensual del consumo de agua para los años 2015, 2016 y 2017. Se observa una cierta regularidad en los años 2015 y 2016, lo que indica un patrón estacional moderado. Sin embargo, en 2017 se detecta una fuerte caída en el mes de mayo, lo que rompe el patrón observado en años anteriores y sugiere una posible anomalía o cambio en la dinámica del consumo. 2.15 Autocorrelaciones Se realizará un análisis de autocorrelación y autocorrelación parcial con el objetivo de evaluar si los valores pasados influyen significativamente en los valores futuros de la serie. Este análisis permitirá identificar la presencia de dependencias temporales que puedan ser útiles para la modelación y predicción del comportamiento del consumo. acf(serie_semanal, main = &quot;Autocorrelación del Consumo Semanal&quot;) pacf(serie_semanal, main = &quot;Autocorrelación Parcial del Consumo Semanal&quot;) Se realizó el análisis de autocorrelación (ACF) del consumo semanal para evaluar la dependencia temporal entre observaciones. Los resultados muestran una fuerte autocorrelación positiva en los primeros lags, lo que indica que los valores de consumo de una semana están significativamente influenciados por los valores de semanas anteriores. La autocorrelación disminuye de manera progresiva, pero se mantiene significativa hasta aproximadamente 15 semanas, lo que sugiere una estructura persistente en el consumo a lo largo del tiempo. "],["prepocesamiento-de-datos.html", "Capítulo 3 Prepocesamiento de Datos 3.1 Descomposicion de la Serie 3.2 Estacionariedad 3.3 Resultados de la Descomposicion y Estacionariedad", " Capítulo 3 Prepocesamiento de Datos 3.1 Descomposicion de la Serie Dada la variabilidad en los niveles de la serie y la presencia de una estacionalidad cuya amplitud cambia en función del tiempo, se optó por aplicar una descomposición multiplicativa. Para ello, se realizó una transformación logarítmica previa sobre la serie, lo que permite utilizar un enfoque aditivo con el método stl(), manteniendo así la naturaleza multiplicativa de los componentes al interpretar los resultados en la escala original. verificacion de ceros en la serie ## [1] 0 ## [1] 0 Se observa una estacionalidad bien definida en la serie, lo que indica patrones recurrentes a lo largo del tiempo. En cuanto a la tendencia, se aprecia una disminución progresiva del consumo semanal hasta aproximadamente mediados del año 2016, momento en el que la serie parece estabilizarse. Esta variación en la tendencia sugiere que la media no se mantiene constante, lo cual indica que la serie no es estacionaria en media. Además, los residuos presentan picos pronunciados, lo que evidencia la presencia de valores atípicos y posibles cambios en la varianza a lo largo del tiempo. 3.2 Estacionariedad Para validar lo anteriormente expuesto, realizaremos la prueba de Dickey-Fuller ## ## Augmented Dickey-Fuller Test ## ## data: serie_log ## Dickey-Fuller = -2.2684, Lag order = 4, p-value = 0.465 ## alternative hypothesis: stationary En este sentido se valida el hecho de que la serie no es estacionaria, es decir, no presenta media, varianza y covarianza constante. 3.3 Resultados de la Descomposicion y Estacionariedad A partir de lo observado, se concluye que es necesaria una transformación para estabilizar tanto la media como la varianza de la serie temporal (Hyndman and Athanasopoulos 2021). Por ello, se aplicará una transformación logarítmica con el fin de reducir la variabilidad, seguida de una diferenciación para eliminar la tendencia y lograr una media más constante en el tiempo. Primera Diferenciación ## ## Augmented Dickey-Fuller Test ## ## data: serie_log_diff ## Dickey-Fuller = -4.1343, Lag order = 4, p-value = 0.01 ## alternative hypothesis: stationary En este caso al diferenciar la serie una vez se verifica la estacionariedad. Referencias Hyndman, Rob J., and George Athanasopoulos. 2021. Forecasting: Principles and Practice. 3rd ed. OTexts. https://otexts.com/fpp3/transformations.html. "],["pronosticos.html", "Capítulo 4 Pronosticos 4.1 Metodólogia Holter Winter 4.2 Analisis de los Residuos", " Capítulo 4 Pronosticos 4.1 Metodólogia Holter Winter La metodología de Holt-Winters, también conocida como suavizamiento exponencial triple, es una técnica ampliamente utilizada en el análisis de series temporales para realizar pronósticos que presentan patrones de tendencia y estacionalidad. Esta metodología extiende el suavizamiento exponencial simple incorporando componentes adicionales que permiten capturar dinámicamente la evolución de la tendencia y la estacionalidad a lo largo del tiempo. Holt-Winters se presenta en dos variantes principales: aditiva y multiplicativa, dependiendo de la naturaleza del componente estacional. Es particularmente útil en contextos donde los datos muestran fluctuaciones regulares en intervalos específicos (como días, semanas o meses), y permite generar predicciones a corto y mediano plazo con un alto grado de precisión. Su implementación práctica ha demostrado ser eficaz en áreas como la economía, la meteorología, la gestión de inventarios y el consumo de recursos, como agua o energía(Hurtado Garzón 2013). Teniendo en cuenta la fase de preprocesamiento, se observa que la serie transformada por el logaritmo (es decir no se uso la serie diferenciada que es estacionaria) presenta una estacionalidad visible, así como una tendencia definida, caracterizada por un comportamiento que decrece, se estabiliza y vuelve a decrecer. Esto indica que cumple con los criterios visuales necesarios para aplicar la metodología en cuestión. Además, el patrón estacional parece ser claro y repetitivo, lo cual sugiere la presencia de una estacionalidad aditiva. No obstante, al implementar el modelo, es importante considerar los residuos, ya que se identifican picos que podrían estar asociados a eventos atípicos o posibles errores de medición. Cabe resaltar que esta metodología no requiere que la serie sea estacionaria. En cambio, se enfoca en identificar una tendencia y una estacionalidad bien definidas, ya que el pronóstico se basa en estos dos componentes junto con la media de la serie. ## RMSE: 0.7559494 Se observa que los valores pronosticados se ajustan adecuadamente al comportamiento general de la serie; sin embargo, tienden a sobreestimar los valores reales. 4.2 Analisis de los Residuos Examinaremos los residuos del modelo para evaluar si este ha logrado capturar adecuadamente la estructura subyacente de la serie temporal. QQ-plot Se observa Prueba de Shapiro-Wilks ## ## Shapiro-Wilk normality test ## ## data: residuos ## W = 0.79869, p-value = 7.341e-08 Los residuos no siguen una distribución Normal. Autocorrelacion El gráfico ACF de los residuos muestra que no hay autocorrelaciones significativas en los rezagos. Esto sugiere que los residuos son independientes en el tiempo, y por tanto, que el modelo ha logrado capturar adecuadamente la estructura temporal de la serie. Homocedasticidad varianza constante No se observa algun patron claro que indique que la varianza no sea constante, sin embargo se observa la presencia de valores atipicos. En este sentido ya que no se cumple la normalidad en los supuestos se debe tener cuidado con las inferencias que se realicen sobre este modelo, sin embargo no afecta la aplicación ni los pronósticos hechos por el modelo. Referencias Hurtado Garzón, Lizette Juliana. 2013. “Aplicación de Metodologías ARIMA y Holt-Winters En La Valoración Del Pasivo Contingente de Proyectos de Infraestructura Vial Desarrollados Bajo Esquemas de Participación Público-Privada.” Proyecto de grado. Universidad de los Andes. https://repositorio.uniandes.edu.co/bitstreams/6ab918dc-dc2d-4ee4-85d7-ee139f7d195c/download. "],["metodología-box-jenkins-y-modelos-arima.html", "Capítulo 5 Metodología Box-Jenkins y Modelos ARIMA 5.1 Modelo ARIMA", " Capítulo 5 Metodología Box-Jenkins y Modelos ARIMA 5.1 Modelo ARIMA Los modelos autorregresivos integrados de media móvil (ARIMA, por sus siglas en inglés: AutoRegressive Integrated Moving Average) combinan tres componentes: AR (Autorregresivo): la serie se explica por sus propios valores pasados. I (Integrado): se aplican diferenciaciones a la serie para hacerla estacionaria. MA (Media móvil): se modela el error como una combinación lineal de errores pasados. Un modelo ARIMA se denota como ARIMA(p, d, q), donde: p: número de términos autorregresivos (AR). d: número de diferenciaciones necesarias para hacer la serie estacionaria. q: número de términos de medias móviles (MA). Estos modelos permiten describir y pronosticar el comportamiento de una serie de tiempo a partir de sus valores y errores pasados. ##Metodología Box-Jenkins La metodología Box-Jenkins es un enfoque sistemático que permite identificar, estimar y validar modelos ARMA o ARIMA que se ajusten adecuadamente a una serie de tiempo. Esta metodología consta de cuatro etapas principales: Identificación del modelo En esta etapa se analiza si la serie es estacionaria. Si no lo es, se aplican transformaciones (como la diferenciación) para lograr la estacionariedad. A continuación, se identifican los posibles valores de los parámetros del modelo ARIMA(p, d, q), con base en el análisis gráfico y estadístico. Actividades comunes: Análisis gráfico: para detectar tendencia, estacionalidad o cambios en la media. Prueba de estacionariedad: como la prueba de Dickey-Fuller, que evalúa si la serie tiene raíz unitaria. Diferenciación: si la serie no es estacionaria, se aplica una o más veces para lograr la estacionariedad y determinar el parámetro d. Revisión de ACF y PACF: ACF (autocorrelación): ayuda a identificar el orden q (media móvil). PACF (autocorrelación parcial): permite sugerir el orden p (autorregresivo). Estimación de parámetros Una vez identificado el modelo, se ajusta a los datos para estimar sus parámetros. Actividades: Estimar los coeficientes mediante métodos como máxima verosimilitud. Evaluar la significancia estadística de los parámetros. Comparar modelos alternativos utilizando criterios como: AIC (Criterio de Información de Akaike) BIC (Criterio de Información Bayesiano) RMSE (Raíz del error cuadrático medio) Verificación del modelo Se valida que los residuos del modelo se comporten como ruido blanco, es decir, que no presenten autocorrelación y tengan media cero y varianza constante. Actividades: Analizar los residuos en el tiempo. Revisar los gráficos de ACF y PACF de los residuos. Verificar la normalidad mediante histogramas o pruebas como Shapiro-Wilk. Verificar independencia mediante pruebas como Ljung-Box. Si los supuestos no se cumplen, se debe reconsiderar el modelo y repetir las etapas anteriores. Pronóstico Una vez validado el modelo, se procede a generar pronósticos a corto, mediano o largo plazo. Actividades: Generar predicciones con intervalos de confianza. Comparar los pronósticos con datos reales (si están disponibles). Evaluar la precisión del modelo predictivo. "],["referencias.html", "Referencias", " Referencias Hellenic Data Service. 2023. “Smart Water Meter Consumption Time Series.” https://data.hellenicdataservice.gr/dataset/78776f38-a58b-4a2a-a8f9-85b964fe5c95. Hurtado Garzón, Lizette Juliana. 2013. “Aplicación de Metodologías ARIMA y Holt-Winters En La Valoración Del Pasivo Contingente de Proyectos de Infraestructura Vial Desarrollados Bajo Esquemas de Participación Público-Privada.” Proyecto de grado. Universidad de los Andes. https://repositorio.uniandes.edu.co/bitstreams/6ab918dc-dc2d-4ee4-85d7-ee139f7d195c/download. Hyndman, Rob J., and George Athanasopoulos. 2021. Forecasting: Principles and Practice. 3rd ed. OTexts. https://otexts.com/fpp3/transformations.html. Spyropoulos, Theodoros, John Soldatos, et al. 2014. “DAIAD: Delivering Advanced Knowledge Through Smart Water Meters.” European Commission; https://cordis.europa.eu/project/id/619186. https://cordis.europa.eu/project/id/619186. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
